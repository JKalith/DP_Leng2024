"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/activities";
exports.ids = ["pages/api/activities"];
exports.modules = {

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "express-jwt":
/*!******************************!*\
  !*** external "express-jwt" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("express-jwt");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/config":
/*!******************************!*\
  !*** external "next/config" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("next/config");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(api)/./helpers/api/activities-repo.js":
/*!****************************************!*\
  !*** ./helpers/api/activities-repo.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"activityRepo\": () => (/* binding */ activityRepo)\n/* harmony export */ });\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/config */ \"next/config\");\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_config__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var helpers_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! helpers/api */ \"(api)/./helpers/api/index.js\");\n\n\n\n\nconst { serverRuntimeConfig  } = next_config__WEBPACK_IMPORTED_MODULE_0___default()();\nconst Activities = helpers_api__WEBPACK_IMPORTED_MODULE_3__.db.Activity;\nconst activityRepo = {\n    getAll,\n    getById,\n    create,\n    update,\n    delete: _delete\n};\nasync function getAll() {\n    // Verificar si Activities está definido antes de usarlo\n    if (!Activities) {\n        throw new Error(\"Error: Activities model is not available.\");\n    }\n    return await Activities.find();\n}\nasync function getById(id) {\n    // Verificar si Activities está definido antes de usarlo\n    if (!Activities) {\n        throw new Error(\"Error: Activities model is not available.\");\n    }\n    return await Activities.findById(id);\n}\nasync function create(params) {\n    // Verificar si Activities está definido antes de usarlo\n    if (!Activities) {\n        throw new Error(\"Error: Activities model is not available.\");\n    }\n    const activities = new Activities(params);\n    // Guardar actividad\n    await activities.save();\n}\nasync function update(id, params) {\n    // Verificar si Activities está definido antes de usarlo\n    if (!Activities) {\n        throw new Error(\"Error: Activities model is not available.\");\n    }\n    const activities = await Activities.findById(id);\n    // Validar\n    if (!activities) throw new Error(\"User not found\");\n    if (activities.idActivity !== params.idActivity && await Activities.findOne({\n        idActivity: params.idActivity\n    })) {\n        throw new Error('Plata \"' + params.idActivity + '\" is already taken');\n    }\n    // Copiar propiedades de params a la actividad\n    Object.assign(activities, params);\n    await activities.save();\n}\nasync function _delete(id) {\n    // Verificar si Activities está definido antes de usarlo\n    if (!Activities) {\n        throw new Error(\"Error: Activities model is not available.\");\n    }\n    await Activities.findByIdAndRemove(id);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9oZWxwZXJzL2FwaS9hY3Rpdml0aWVzLXJlcG8uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBb0M7QUFDTDtBQUNEO0FBQ0c7QUFFakMsTUFBTSxFQUFFSSxvQkFBbUIsRUFBRSxHQUFHSixrREFBU0E7QUFDekMsTUFBTUssYUFBYUYsb0RBQVc7QUFFdkIsTUFBTUksZUFBZTtJQUN4QkM7SUFDQUM7SUFDQUM7SUFDQUM7SUFDQUMsUUFBUUM7QUFDWixFQUFFO0FBRUYsZUFBZUwsU0FBUztJQUNwQix3REFBd0Q7SUFDeEQsSUFBSSxDQUFDSCxZQUFZO1FBQ2IsTUFBTSxJQUFJUyxNQUFNLDZDQUE2QztJQUNqRSxDQUFDO0lBRUQsT0FBTyxNQUFNVCxXQUFXVSxJQUFJO0FBQ2hDO0FBRUEsZUFBZU4sUUFBUU8sRUFBRSxFQUFFO0lBQ3ZCLHdEQUF3RDtJQUN4RCxJQUFJLENBQUNYLFlBQVk7UUFDYixNQUFNLElBQUlTLE1BQU0sNkNBQTZDO0lBQ2pFLENBQUM7SUFFRCxPQUFPLE1BQU1ULFdBQVdZLFFBQVEsQ0FBQ0Q7QUFDckM7QUFFQSxlQUFlTixPQUFPUSxNQUFNLEVBQUU7SUFDMUIsd0RBQXdEO0lBQ3hELElBQUksQ0FBQ2IsWUFBWTtRQUNiLE1BQU0sSUFBSVMsTUFBTSw2Q0FBNkM7SUFDakUsQ0FBQztJQUVELE1BQU1LLGFBQWEsSUFBSWQsV0FBV2E7SUFFbEMsb0JBQW9CO0lBQ3BCLE1BQU1DLFdBQVdDLElBQUk7QUFDekI7QUFFQSxlQUFlVCxPQUFPSyxFQUFFLEVBQUVFLE1BQU0sRUFBRTtJQUM5Qix3REFBd0Q7SUFDeEQsSUFBSSxDQUFDYixZQUFZO1FBQ2IsTUFBTSxJQUFJUyxNQUFNLDZDQUE2QztJQUNqRSxDQUFDO0lBRUQsTUFBTUssYUFBYSxNQUFNZCxXQUFXWSxRQUFRLENBQUNEO0lBRTdDLFVBQVU7SUFDVixJQUFJLENBQUNHLFlBQVksTUFBTSxJQUFJTCxNQUFNLGtCQUFrQjtJQUNuRCxJQUFJSyxXQUFXRSxVQUFVLEtBQUtILE9BQU9HLFVBQVUsSUFBSSxNQUFNaEIsV0FBV2lCLE9BQU8sQ0FBQztRQUFFRCxZQUFZSCxPQUFPRyxVQUFVO0lBQUMsSUFBSTtRQUM1RyxNQUFNLElBQUlQLE1BQU0sWUFBWUksT0FBT0csVUFBVSxHQUFHLHNCQUFzQjtJQUMxRSxDQUFDO0lBRUQsOENBQThDO0lBQzlDRSxPQUFPQyxNQUFNLENBQUNMLFlBQVlEO0lBRTFCLE1BQU1DLFdBQVdDLElBQUk7QUFDekI7QUFFQSxlQUFlUCxRQUFRRyxFQUFFLEVBQUU7SUFDdkIsd0RBQXdEO0lBQ3hELElBQUksQ0FBQ1gsWUFBWTtRQUNiLE1BQU0sSUFBSVMsTUFBTSw2Q0FBNkM7SUFDakUsQ0FBQztJQUVELE1BQU1ULFdBQVdvQixpQkFBaUIsQ0FBQ1Q7QUFDdkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWpzLXJlZ2lzdHJhdGlvbi1sb2dpbi1leGFtcGxlLy4vaGVscGVycy9hcGkvYWN0aXZpdGllcy1yZXBvLmpzP2EwZTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGdldENvbmZpZyBmcm9tICduZXh0L2NvbmZpZyc7XHJcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcyc7XHJcbmltcG9ydCB7IGRiIH0gZnJvbSAnaGVscGVycy9hcGknO1xyXG5cclxuY29uc3QgeyBzZXJ2ZXJSdW50aW1lQ29uZmlnIH0gPSBnZXRDb25maWcoKTtcclxuY29uc3QgQWN0aXZpdGllcyA9IGRiLkFjdGl2aXR5O1xyXG5cclxuZXhwb3J0IGNvbnN0IGFjdGl2aXR5UmVwbyA9IHtcclxuICAgIGdldEFsbCxcclxuICAgIGdldEJ5SWQsXHJcbiAgICBjcmVhdGUsXHJcbiAgICB1cGRhdGUsXHJcbiAgICBkZWxldGU6IF9kZWxldGVcclxufTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEFsbCgpIHtcclxuICAgIC8vIFZlcmlmaWNhciBzaSBBY3Rpdml0aWVzIGVzdMOhIGRlZmluaWRvIGFudGVzIGRlIHVzYXJsb1xyXG4gICAgaWYgKCFBY3Rpdml0aWVzKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvcjogQWN0aXZpdGllcyBtb2RlbCBpcyBub3QgYXZhaWxhYmxlLicpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhd2FpdCBBY3Rpdml0aWVzLmZpbmQoKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0QnlJZChpZCkge1xyXG4gICAgLy8gVmVyaWZpY2FyIHNpIEFjdGl2aXRpZXMgZXN0w6EgZGVmaW5pZG8gYW50ZXMgZGUgdXNhcmxvXHJcbiAgICBpZiAoIUFjdGl2aXRpZXMpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yOiBBY3Rpdml0aWVzIG1vZGVsIGlzIG5vdCBhdmFpbGFibGUuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGF3YWl0IEFjdGl2aXRpZXMuZmluZEJ5SWQoaWQpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XHJcbiAgICAvLyBWZXJpZmljYXIgc2kgQWN0aXZpdGllcyBlc3TDoSBkZWZpbmlkbyBhbnRlcyBkZSB1c2FybG9cclxuICAgIGlmICghQWN0aXZpdGllcykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3I6IEFjdGl2aXRpZXMgbW9kZWwgaXMgbm90IGF2YWlsYWJsZS4nKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhY3Rpdml0aWVzID0gbmV3IEFjdGl2aXRpZXMocGFyYW1zKTtcclxuXHJcbiAgICAvLyBHdWFyZGFyIGFjdGl2aWRhZFxyXG4gICAgYXdhaXQgYWN0aXZpdGllcy5zYXZlKCk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZShpZCwgcGFyYW1zKSB7XHJcbiAgICAvLyBWZXJpZmljYXIgc2kgQWN0aXZpdGllcyBlc3TDoSBkZWZpbmlkbyBhbnRlcyBkZSB1c2FybG9cclxuICAgIGlmICghQWN0aXZpdGllcykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3I6IEFjdGl2aXRpZXMgbW9kZWwgaXMgbm90IGF2YWlsYWJsZS4nKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhY3Rpdml0aWVzID0gYXdhaXQgQWN0aXZpdGllcy5maW5kQnlJZChpZCk7XHJcblxyXG4gICAgLy8gVmFsaWRhclxyXG4gICAgaWYgKCFhY3Rpdml0aWVzKSB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgbm90IGZvdW5kJyk7XHJcbiAgICBpZiAoYWN0aXZpdGllcy5pZEFjdGl2aXR5ICE9PSBwYXJhbXMuaWRBY3Rpdml0eSAmJiBhd2FpdCBBY3Rpdml0aWVzLmZpbmRPbmUoeyBpZEFjdGl2aXR5OiBwYXJhbXMuaWRBY3Rpdml0eSB9KSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGxhdGEgXCInICsgcGFyYW1zLmlkQWN0aXZpdHkgKyAnXCIgaXMgYWxyZWFkeSB0YWtlbicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvcGlhciBwcm9waWVkYWRlcyBkZSBwYXJhbXMgYSBsYSBhY3RpdmlkYWRcclxuICAgIE9iamVjdC5hc3NpZ24oYWN0aXZpdGllcywgcGFyYW1zKTtcclxuXHJcbiAgICBhd2FpdCBhY3Rpdml0aWVzLnNhdmUoKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShpZCkge1xyXG4gICAgLy8gVmVyaWZpY2FyIHNpIEFjdGl2aXRpZXMgZXN0w6EgZGVmaW5pZG8gYW50ZXMgZGUgdXNhcmxvXHJcbiAgICBpZiAoIUFjdGl2aXRpZXMpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yOiBBY3Rpdml0aWVzIG1vZGVsIGlzIG5vdCBhdmFpbGFibGUuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgQWN0aXZpdGllcy5maW5kQnlJZEFuZFJlbW92ZShpZCk7XHJcbn1cclxuIl0sIm5hbWVzIjpbImdldENvbmZpZyIsImp3dCIsImJjcnlwdCIsImRiIiwic2VydmVyUnVudGltZUNvbmZpZyIsIkFjdGl2aXRpZXMiLCJBY3Rpdml0eSIsImFjdGl2aXR5UmVwbyIsImdldEFsbCIsImdldEJ5SWQiLCJjcmVhdGUiLCJ1cGRhdGUiLCJkZWxldGUiLCJfZGVsZXRlIiwiRXJyb3IiLCJmaW5kIiwiaWQiLCJmaW5kQnlJZCIsInBhcmFtcyIsImFjdGl2aXRpZXMiLCJzYXZlIiwiaWRBY3Rpdml0eSIsImZpbmRPbmUiLCJPYmplY3QiLCJhc3NpZ24iLCJmaW5kQnlJZEFuZFJlbW92ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./helpers/api/activities-repo.js\n");

/***/ }),

/***/ "(api)/./helpers/api/api-handler.js":
/*!************************************!*\
  !*** ./helpers/api/api-handler.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"apiHandler\": () => (/* binding */ apiHandler)\n/* harmony export */ });\n/* harmony import */ var helpers_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! helpers/api */ \"(api)/./helpers/api/index.js\");\n\n\nfunction apiHandler(handler) {\n    return async (req, res)=>{\n        const method = req.method.toLowerCase();\n        // check handler supports HTTP method\n        if (!handler[method]) return res.status(405).end(`Method ${req.method} Not Allowed`);\n        try {\n            // global middleware\n            await (0,helpers_api__WEBPACK_IMPORTED_MODULE_0__.jwtMiddleware)(req, res);\n            // route handler\n            await handler[method](req, res);\n        } catch (err) {\n            // global error handler\n            (0,helpers_api__WEBPACK_IMPORTED_MODULE_0__.errorHandler)(err, res);\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9oZWxwZXJzL2FwaS9hcGktaGFuZGxlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUEwRDtBQUVwQztBQUV0QixTQUFTRSxXQUFXQyxPQUFPLEVBQUU7SUFDekIsT0FBTyxPQUFPQyxLQUFLQyxNQUFRO1FBQ3ZCLE1BQU1DLFNBQVNGLElBQUlFLE1BQU0sQ0FBQ0MsV0FBVztRQUVyQyxxQ0FBcUM7UUFDckMsSUFBSSxDQUFDSixPQUFPLENBQUNHLE9BQU8sRUFDaEIsT0FBT0QsSUFBSUcsTUFBTSxDQUFDLEtBQUtDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRUwsSUFBSUUsTUFBTSxDQUFDLFlBQVksQ0FBQztRQUVqRSxJQUFJO1lBQ0Esb0JBQW9CO1lBQ3BCLE1BQU1MLDBEQUFhQSxDQUFDRyxLQUFLQztZQUV6QixnQkFBZ0I7WUFDaEIsTUFBTUYsT0FBTyxDQUFDRyxPQUFPLENBQUNGLEtBQUtDO1FBQy9CLEVBQUUsT0FBT0ssS0FBSztZQUNWLHVCQUF1QjtZQUN2QlYseURBQVlBLENBQUNVLEtBQUtMO1FBQ3RCO0lBQ0o7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtanMtcmVnaXN0cmF0aW9uLWxvZ2luLWV4YW1wbGUvLi9oZWxwZXJzL2FwaS9hcGktaGFuZGxlci5qcz8yNzE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVycm9ySGFuZGxlciwgand0TWlkZGxld2FyZSB9IGZyb20gJ2hlbHBlcnMvYXBpJztcclxuXHJcbmV4cG9ydCB7IGFwaUhhbmRsZXIgfTtcclxuXHJcbmZ1bmN0aW9uIGFwaUhhbmRsZXIoaGFuZGxlcikge1xyXG4gICAgcmV0dXJuIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IHJlcS5tZXRob2QudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgaGFuZGxlciBzdXBwb3J0cyBIVFRQIG1ldGhvZFxyXG4gICAgICAgIGlmICghaGFuZGxlclttZXRob2RdKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmVuZChgTWV0aG9kICR7cmVxLm1ldGhvZH0gTm90IEFsbG93ZWRgKTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gZ2xvYmFsIG1pZGRsZXdhcmVcclxuICAgICAgICAgICAgYXdhaXQgand0TWlkZGxld2FyZShyZXEsIHJlcyk7XHJcblxyXG4gICAgICAgICAgICAvLyByb3V0ZSBoYW5kbGVyXHJcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZXJbbWV0aG9kXShyZXEsIHJlcyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIC8vIGdsb2JhbCBlcnJvciBoYW5kbGVyXHJcbiAgICAgICAgICAgIGVycm9ySGFuZGxlcihlcnIsIHJlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbImVycm9ySGFuZGxlciIsImp3dE1pZGRsZXdhcmUiLCJhcGlIYW5kbGVyIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInRvTG93ZXJDYXNlIiwic3RhdHVzIiwiZW5kIiwiZXJyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./helpers/api/api-handler.js\n");

/***/ }),

/***/ "(api)/./helpers/api/cars-repo.js":
/*!**********************************!*\
  !*** ./helpers/api/cars-repo.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"carsRepo\": () => (/* binding */ carsRepo)\n/* harmony export */ });\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/config */ \"next/config\");\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_config__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var helpers_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! helpers/api */ \"(api)/./helpers/api/index.js\");\n\n\n\n\nconst { serverRuntimeConfig  } = next_config__WEBPACK_IMPORTED_MODULE_0___default()();\nconst Car = helpers_api__WEBPACK_IMPORTED_MODULE_3__.db.Car;\nconst carsRepo = {\n    getAll,\n    getById,\n    create,\n    update,\n    delete: _delete\n};\nasync function getAll() {\n    return await Car.find();\n}\nasync function getById(id) {\n    return await Car.findById(id);\n}\nasync function create(params) {\n    const car = new Car(params);\n    // save car\n    await car.save();\n}\nasync function update(id, params) {\n    const car = await Car.findById(id);\n    // validate\n    if (!car) throw \"User not found\";\n    if (car.idCar !== params.idCar && await Car.findOne({\n        idCar: params.idCar\n    })) {\n        throw 'Plata \"' + params.idCar + '\" is already taken';\n    }\n    // copy params properties to car\n    Object.assign(car, params);\n    await car.save();\n}\nasync function _delete(id) {\n    await Car.findByIdAndRemove(id);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9oZWxwZXJzL2FwaS9jYXJzLXJlcG8uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBb0M7QUFDTDtBQUNEO0FBQ0c7QUFFakMsTUFBTSxFQUFFSSxvQkFBbUIsRUFBRSxHQUFHSixrREFBU0E7QUFDekMsTUFBTUssTUFBTUYsK0NBQU07QUFFWCxNQUFNRyxXQUFXO0lBRXBCQztJQUNBQztJQUNBQztJQUNBQztJQUNBQyxRQUFRQztBQUNaLEVBQUU7QUFFRixlQUFlTCxTQUFTO0lBQ3BCLE9BQU8sTUFBTUYsSUFBSVEsSUFBSTtBQUN6QjtBQUVBLGVBQWVMLFFBQVFNLEVBQUUsRUFBRTtJQUN2QixPQUFPLE1BQU1ULElBQUlVLFFBQVEsQ0FBQ0Q7QUFDOUI7QUFFQSxlQUFlTCxPQUFPTyxNQUFNLEVBQUU7SUFDMUIsTUFBTUMsTUFBTSxJQUFJWixJQUFJVztJQUVwQixXQUFXO0lBQ1gsTUFBTUMsSUFBSUMsSUFBSTtBQUNsQjtBQUVBLGVBQWVSLE9BQU9JLEVBQUUsRUFBRUUsTUFBTSxFQUFFO0lBQzlCLE1BQU1DLE1BQU0sTUFBTVosSUFBSVUsUUFBUSxDQUFDRDtJQUUvQixXQUFXO0lBQ1gsSUFBSSxDQUFDRyxLQUFLLE1BQU0saUJBQWlCO0lBQ2pDLElBQUlBLElBQUlFLEtBQUssS0FBS0gsT0FBT0csS0FBSyxJQUFJLE1BQU1kLElBQUllLE9BQU8sQ0FBQztRQUFFRCxPQUFPSCxPQUFPRyxLQUFLO0lBQUMsSUFBSTtRQUMxRSxNQUFNLFlBQVlILE9BQU9HLEtBQUssR0FBRyxxQkFBcUI7SUFDMUQsQ0FBQztJQUVELGdDQUFnQztJQUNoQ0UsT0FBT0MsTUFBTSxDQUFDTCxLQUFLRDtJQUduQixNQUFNQyxJQUFJQyxJQUFJO0FBQ2xCO0FBRUEsZUFBZU4sUUFBUUUsRUFBRSxFQUFFO0lBQ3ZCLE1BQU1ULElBQUlrQixpQkFBaUIsQ0FBQ1Q7QUFDaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWpzLXJlZ2lzdHJhdGlvbi1sb2dpbi1leGFtcGxlLy4vaGVscGVycy9hcGkvY2Fycy1yZXBvLmpzP2MxMjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGdldENvbmZpZyBmcm9tICduZXh0L2NvbmZpZyc7XHJcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcyc7XHJcbmltcG9ydCB7IGRiIH0gZnJvbSAnaGVscGVycy9hcGknO1xyXG5cclxuY29uc3QgeyBzZXJ2ZXJSdW50aW1lQ29uZmlnIH0gPSBnZXRDb25maWcoKTtcclxuY29uc3QgQ2FyID0gZGIuQ2FyO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhcnNSZXBvID0ge1xyXG5cclxuICAgIGdldEFsbCxcclxuICAgIGdldEJ5SWQsXHJcbiAgICBjcmVhdGUsXHJcbiAgICB1cGRhdGUsXHJcbiAgICBkZWxldGU6IF9kZWxldGVcclxufTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEFsbCgpIHtcclxuICAgIHJldHVybiBhd2FpdCBDYXIuZmluZCgpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXRCeUlkKGlkKSB7XHJcbiAgICByZXR1cm4gYXdhaXQgQ2FyLmZpbmRCeUlkKGlkKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlKHBhcmFtcykge1xyXG4gICAgY29uc3QgY2FyID0gbmV3IENhcihwYXJhbXMpO1xyXG5cclxuICAgIC8vIHNhdmUgY2FyXHJcbiAgICBhd2FpdCBjYXIuc2F2ZSgpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGUoaWQsIHBhcmFtcykge1xyXG4gICAgY29uc3QgY2FyID0gYXdhaXQgQ2FyLmZpbmRCeUlkKGlkKTtcclxuXHJcbiAgICAvLyB2YWxpZGF0ZVxyXG4gICAgaWYgKCFjYXIpIHRocm93ICdVc2VyIG5vdCBmb3VuZCc7XHJcbiAgICBpZiAoY2FyLmlkQ2FyICE9PSBwYXJhbXMuaWRDYXIgJiYgYXdhaXQgQ2FyLmZpbmRPbmUoeyBpZENhcjogcGFyYW1zLmlkQ2FyIH0pKSB7XHJcbiAgICAgICAgdGhyb3cgJ1BsYXRhIFwiJyArIHBhcmFtcy5pZENhciArICdcIiBpcyBhbHJlYWR5IHRha2VuJztcclxuICAgIH1cclxuXHJcbiAgICAvLyBjb3B5IHBhcmFtcyBwcm9wZXJ0aWVzIHRvIGNhclxyXG4gICAgT2JqZWN0LmFzc2lnbihjYXIsIHBhcmFtcyk7XHJcblxyXG4gICAgXHJcbiAgICBhd2FpdCBjYXIuc2F2ZSgpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBfZGVsZXRlKGlkKSB7XHJcbiAgICBhd2FpdCBDYXIuZmluZEJ5SWRBbmRSZW1vdmUoaWQpO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJnZXRDb25maWciLCJqd3QiLCJiY3J5cHQiLCJkYiIsInNlcnZlclJ1bnRpbWVDb25maWciLCJDYXIiLCJjYXJzUmVwbyIsImdldEFsbCIsImdldEJ5SWQiLCJjcmVhdGUiLCJ1cGRhdGUiLCJkZWxldGUiLCJfZGVsZXRlIiwiZmluZCIsImlkIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJjYXIiLCJzYXZlIiwiaWRDYXIiLCJmaW5kT25lIiwiT2JqZWN0IiwiYXNzaWduIiwiZmluZEJ5SWRBbmRSZW1vdmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./helpers/api/cars-repo.js\n");

/***/ }),

/***/ "(api)/./helpers/api/db.js":
/*!***************************!*\
  !*** ./helpers/api/db.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"db\": () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/config */ \"next/config\");\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_config__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst { serverRuntimeConfig  } = next_config__WEBPACK_IMPORTED_MODULE_0___default()();\nconst { Schema  } = (mongoose__WEBPACK_IMPORTED_MODULE_1___default());\n// Conexión a MongoDB\nmongoose__WEBPACK_IMPORTED_MODULE_1___default().connect(process.env.MONGODB_URI || serverRuntimeConfig.connectionString, {\n    useNewUrlParser: true,\n    useUnifiedTopology: true\n});\n(mongoose__WEBPACK_IMPORTED_MODULE_1___default().Promise) = global.Promise;\nconst userModel = ()=>{\n    const schema = new Schema({\n        username: {\n            type: String,\n            unique: true,\n            required: true\n        },\n        hash: {\n            type: String,\n            required: true\n        },\n        firstName: {\n            type: String,\n            required: true\n        },\n        lastName: {\n            type: String,\n            required: true\n        }\n    }, {\n        timestamps: true\n    });\n    schema.set(\"toJSON\", {\n        virtuals: true,\n        versionKey: false,\n        transform: (doc, ret)=>{\n            delete ret._id;\n            delete ret.hash;\n        }\n    });\n    return (mongoose__WEBPACK_IMPORTED_MODULE_1___default().models.User) || mongoose__WEBPACK_IMPORTED_MODULE_1___default().model(\"User\", schema);\n};\nconst carModel = ()=>{\n    const schema = new Schema({\n        idCar: {\n            type: String,\n            unique: true,\n            required: true\n        },\n        brand: {\n            type: String,\n            required: true\n        },\n        carType: {\n            type: String,\n            required: true\n        },\n        year: {\n            type: String,\n            required: true\n        }\n    }, {\n        timestamps: true\n    });\n    schema.set(\"toJSON\", {\n        virtuals: true,\n        versionKey: false,\n        transform: (doc, ret)=>{\n            delete ret._id;\n            delete ret.hash;\n        }\n    });\n    return (mongoose__WEBPACK_IMPORTED_MODULE_1___default().models.Car) || mongoose__WEBPACK_IMPORTED_MODULE_1___default().model(\"Car\", schema);\n};\nconst activityModel = ()=>{\n    const activitySchema = new Schema({\n        nameActivity: {\n            type: String,\n            required: true\n        },\n        place: {\n            type: String,\n            required: true\n        },\n        email: {\n            type: String,\n            required: true\n        },\n        instagram: {\n            type: String,\n            required: true\n        },\n        facebook: {\n            type: String,\n            required: true\n        },\n        phone: {\n            type: String,\n            required: true\n        },\n        startDate: {\n            type: String,\n            required: true\n        },\n        endDate: {\n            type: String,\n            required: true\n        },\n        startTime: {\n            type: String,\n            required: true\n        },\n        endTime: {\n            type: String,\n            required: true\n        },\n        activityDescription: {\n            type: String,\n            required: true\n        },\n        activityCategory: [\n            {\n                type: String,\n                required: true\n            }\n        ],\n        allowRegistration: {\n            type: Boolean,\n            default: false\n        },\n        maxPersonRegistration: {\n            type: Number,\n            default: 0\n        },\n        latitude: {\n            type: String\n        },\n        length: {\n            type: String\n        },\n        imageUrl: [\n            {\n                type: String\n            }\n        ],\n        indiceImagenPrincipal: {\n            type: Number\n        }\n    }, {\n        timestamps: true\n    });\n    activitySchema.set(\"toJSON\", {\n        virtuals: true,\n        versionKey: false,\n        transform: (doc, ret)=>{\n            delete ret._id;\n            delete ret.hash;\n        }\n    });\n    return (mongoose__WEBPACK_IMPORTED_MODULE_1___default().models.Activity) || mongoose__WEBPACK_IMPORTED_MODULE_1___default().model(\"Activity\", activitySchema);\n};\nconst personModel = ()=>{\n    const schema = new Schema({\n        idPerson: {\n            type: String,\n            unique: true,\n            required: true\n        },\n        idActivity: {\n            type: String,\n            required: true\n        },\n        name: {\n            type: String,\n            required: true\n        },\n        lastName: {\n            type: String,\n            required: true\n        },\n        secondLastName: {\n            type: String,\n            required: true\n        },\n        email: {\n            type: String,\n            required: true\n        },\n        phone: {\n            type: String,\n            required: true\n        }\n    }, {\n        timestamps: true\n    });\n    schema.set(\"toJSON\", {\n        virtuals: true,\n        versionKey: false,\n        transform: (doc, ret)=>{\n            delete ret._id;\n            delete ret.hash;\n        }\n    });\n    return (mongoose__WEBPACK_IMPORTED_MODULE_1___default().models.Person) || mongoose__WEBPACK_IMPORTED_MODULE_1___default().model(\"Person\", schema);\n};\nconst db = {\n    User: userModel(),\n    Car: carModel(),\n    Activity: activityModel(),\n    Person: personModel()\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxVQUFVLElBQUk7UUFBQztRQUN0QzRCLE9BQU87WUFBRS9CLE1BQU1DO1lBQVFFLFVBQVUsSUFBSTtRQUFDO0lBQ3hDLEdBQ0E7UUFDRUksWUFBWSxJQUFJO0lBQ2xCO0lBR0ZULE9BQU9VLEdBQUcsQ0FBQyxVQUFVO1FBQ25CQyxVQUFVLElBQUk7UUFDZEMsWUFBWSxLQUFLO1FBQ2pCQyxXQUFXLENBQUNDLEtBQUtDLE1BQVE7WUFDdkIsT0FBT0EsSUFBSUMsR0FBRztZQUNkLE9BQU9ELElBQUlULElBQUk7UUFDakI7SUFDRjtJQUVBLE9BQU9uQiwrREFBc0IsSUFBSUEscURBQWMsQ0FBQyxVQUFVYTtBQUM1RDtBQUVPLE1BQU13RCxLQUFLO0lBQ2hCdEMsTUFBTW5CO0lBQ04wQixLQUFLTDtJQUNMNkIsVUFBVXZCO0lBQ1Y2QixRQUFRTDtBQUNWLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWpzLXJlZ2lzdHJhdGlvbi1sb2dpbi1leGFtcGxlLy4vaGVscGVycy9hcGkvZGIuanM/NWI5MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZ2V0Q29uZmlnIGZyb20gXCJuZXh0L2NvbmZpZ1wiO1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCB7IHNlcnZlclJ1bnRpbWVDb25maWcgfSA9IGdldENvbmZpZygpO1xyXG5jb25zdCB7IFNjaGVtYSB9ID0gbW9uZ29vc2U7XHJcblxyXG4vLyBDb25leGnDs24gYSBNb25nb0RCXHJcbm1vbmdvb3NlLmNvbm5lY3QoXHJcbiAgcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkgfHwgc2VydmVyUnVudGltZUNvbmZpZy5jb25uZWN0aW9uU3RyaW5nLFxyXG4gIHtcclxuICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcclxuICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcclxuICB9XHJcbik7XHJcbm1vbmdvb3NlLlByb21pc2UgPSBnbG9iYWwuUHJvbWlzZTtcclxuXHJcbmNvbnN0IHVzZXJNb2RlbCA9ICgpID0+IHtcclxuICBjb25zdCBzY2hlbWEgPSBuZXcgU2NoZW1hKFxyXG4gICAge1xyXG4gICAgICB1c2VybmFtZTogeyB0eXBlOiBTdHJpbmcsIHVuaXF1ZTogdHJ1ZSwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgaGFzaDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICAgIGZpcnN0TmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICAgIGxhc3ROYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRpbWVzdGFtcHM6IHRydWUsXHJcbiAgICB9XHJcbiAgKTtcclxuXHJcbiAgc2NoZW1hLnNldChcInRvSlNPTlwiLCB7XHJcbiAgICB2aXJ0dWFsczogdHJ1ZSxcclxuICAgIHZlcnNpb25LZXk6IGZhbHNlLFxyXG4gICAgdHJhbnNmb3JtOiAoZG9jLCByZXQpID0+IHtcclxuICAgICAgZGVsZXRlIHJldC5faWQ7XHJcbiAgICAgIGRlbGV0ZSByZXQuaGFzaDtcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBtb25nb29zZS5tb2RlbHMuVXNlciB8fCBtb25nb29zZS5tb2RlbChcIlVzZXJcIiwgc2NoZW1hKTtcclxufTtcclxuXHJcbmNvbnN0IGNhck1vZGVsID0gKCkgPT4ge1xyXG4gIGNvbnN0IHNjaGVtYSA9IG5ldyBTY2hlbWEoXHJcbiAgICB7XHJcbiAgICAgIGlkQ2FyOiB7IHR5cGU6IFN0cmluZywgdW5pcXVlOiB0cnVlLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICBicmFuZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICAgIGNhclR5cGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICB5ZWFyOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRpbWVzdGFtcHM6IHRydWUsXHJcbiAgICB9XHJcbiAgKTtcclxuXHJcbiAgc2NoZW1hLnNldChcInRvSlNPTlwiLCB7XHJcbiAgICB2aXJ0dWFsczogdHJ1ZSxcclxuICAgIHZlcnNpb25LZXk6IGZhbHNlLFxyXG4gICAgdHJhbnNmb3JtOiAoZG9jLCByZXQpID0+IHtcclxuICAgICAgZGVsZXRlIHJldC5faWQ7XHJcbiAgICAgIGRlbGV0ZSByZXQuaGFzaDtcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBtb25nb29zZS5tb2RlbHMuQ2FyIHx8IG1vbmdvb3NlLm1vZGVsKFwiQ2FyXCIsIHNjaGVtYSk7XHJcbn07XHJcblxyXG5jb25zdCBhY3Rpdml0eU1vZGVsID0gKCkgPT4ge1xyXG4gIGNvbnN0IGFjdGl2aXR5U2NoZW1hID0gbmV3IFNjaGVtYShcclxuICAgIHtcclxuICAgICAgbmFtZUFjdGl2aXR5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgcGxhY2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICBlbWFpbDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICAgIGluc3RhZ3JhbTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICAgIGZhY2Vib29rOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgcGhvbmU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICBzdGFydERhdGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICBlbmREYXRlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgc3RhcnRUaW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgZW5kVGltZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICAgIGFjdGl2aXR5RGVzY3JpcHRpb246IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICBhY3Rpdml0eUNhdGVnb3J5OiBbeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH1dLFxyXG4gICAgICBhbGxvd1JlZ2lzdHJhdGlvbjogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gICAgICBtYXhQZXJzb25SZWdpc3RyYXRpb246IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgICAgIGxhdGl0dWRlOiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gICAgICBsZW5ndGg6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgICAgIGltYWdlVXJsOiBbeyB0eXBlOiBTdHJpbmcgfV0sXHJcbiAgICAgIGluZGljZUltYWdlblByaW5jaXBhbDogeyB0eXBlOiBOdW1iZXIgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRpbWVzdGFtcHM6IHRydWUsXHJcbiAgICB9XHJcbiAgKTtcclxuXHJcbiAgYWN0aXZpdHlTY2hlbWEuc2V0KFwidG9KU09OXCIsIHtcclxuICAgIHZpcnR1YWxzOiB0cnVlLFxyXG4gICAgdmVyc2lvbktleTogZmFsc2UsXHJcbiAgICB0cmFuc2Zvcm06IChkb2MsIHJldCkgPT4ge1xyXG4gICAgICBkZWxldGUgcmV0Ll9pZDtcclxuICAgICAgZGVsZXRlIHJldC5oYXNoO1xyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIG1vbmdvb3NlLm1vZGVscy5BY3Rpdml0eSB8fCBtb25nb29zZS5tb2RlbChcIkFjdGl2aXR5XCIsIGFjdGl2aXR5U2NoZW1hKTtcclxufTtcclxuXHJcbmNvbnN0IHBlcnNvbk1vZGVsID0gKCkgPT4ge1xyXG4gIGNvbnN0IHNjaGVtYSA9IG5ldyBTY2hlbWEoXHJcbiAgICB7XHJcbiAgICAgIGlkUGVyc29uOiB7IHR5cGU6IFN0cmluZywgdW5pcXVlOiB0cnVlLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICBpZEFjdGl2aXR5OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICAgIGxhc3ROYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgc2Vjb25kTGFzdE5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICBlbWFpbDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICAgIHBob25lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRpbWVzdGFtcHM6IHRydWUsXHJcbiAgICB9XHJcbiAgKTtcclxuXHJcbiAgc2NoZW1hLnNldChcInRvSlNPTlwiLCB7XHJcbiAgICB2aXJ0dWFsczogdHJ1ZSxcclxuICAgIHZlcnNpb25LZXk6IGZhbHNlLFxyXG4gICAgdHJhbnNmb3JtOiAoZG9jLCByZXQpID0+IHtcclxuICAgICAgZGVsZXRlIHJldC5faWQ7XHJcbiAgICAgIGRlbGV0ZSByZXQuaGFzaDtcclxuICAgIH0sXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBtb25nb29zZS5tb2RlbHMuUGVyc29uIHx8IG1vbmdvb3NlLm1vZGVsKFwiUGVyc29uXCIsIHNjaGVtYSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZGIgPSB7XHJcbiAgVXNlcjogdXNlck1vZGVsKCksXHJcbiAgQ2FyOiBjYXJNb2RlbCgpLFxyXG4gIEFjdGl2aXR5OiBhY3Rpdml0eU1vZGVsKCksIFxyXG4gIFBlcnNvbjogcGVyc29uTW9kZWwoKSxcclxufTtcclxuIl0sIm5hbWVzIjpbImdldENvbmZpZyIsIm1vbmdvb3NlIiwic2VydmVyUnVudGltZUNvbmZpZyIsIlNjaGVtYSIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJjb25uZWN0aW9uU3RyaW5nIiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiUHJvbWlzZSIsImdsb2JhbCIsInVzZXJNb2RlbCIsInNjaGVtYSIsInVzZXJuYW1lIiwidHlwZSIsIlN0cmluZyIsInVuaXF1ZSIsInJlcXVpcmVkIiwiaGFzaCIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwidGltZXN0YW1wcyIsInNldCIsInZpcnR1YWxzIiwidmVyc2lvbktleSIsInRyYW5zZm9ybSIsImRvYyIsInJldCIsIl9pZCIsIm1vZGVscyIsIlVzZXIiLCJtb2RlbCIsImNhck1vZGVsIiwiaWRDYXIiLCJicmFuZCIsImNhclR5cGUiLCJ5ZWFyIiwiQ2FyIiwiYWN0aXZpdHlNb2RlbCIsImFjdGl2aXR5U2NoZW1hIiwibmFtZUFjdGl2aXR5IiwicGxhY2UiLCJlbWFpbCIsImluc3RhZ3JhbSIsImZhY2Vib29rIiwicGhvbmUiLCJzdGFydERhdGUiLCJlbmREYXRlIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsImFjdGl2aXR5RGVzY3JpcHRpb24iLCJhY3Rpdml0eUNhdGVnb3J5IiwiYWxsb3dSZWdpc3RyYXRpb24iLCJCb29sZWFuIiwiZGVmYXVsdCIsIm1heFBlcnNvblJlZ2lzdHJhdGlvbiIsIk51bWJlciIsImxhdGl0dWRlIiwibGVuZ3RoIiwiaW1hZ2VVcmwiLCJpbmRpY2VJbWFnZW5QcmluY2lwYWwiLCJBY3Rpdml0eSIsInBlcnNvbk1vZGVsIiwiaWRQZXJzb24iLCJpZEFjdGl2aXR5IiwibmFtZSIsInNlY29uZExhc3ROYW1lIiwiUGVyc29uIiwiZGIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./helpers/api/db.js\n");

/***/ }),

/***/ "(api)/./helpers/api/error-handler.js":
/*!**************************************!*\
  !*** ./helpers/api/error-handler.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"errorHandler\": () => (/* binding */ errorHandler)\n/* harmony export */ });\n\nfunction errorHandler(err, res) {\n    if (typeof err === \"string\") {\n        // custom application error\n        const is404 = err.toLowerCase().endsWith(\"not found\");\n        const statusCode = is404 ? 404 : 400;\n        return res.status(statusCode).json({\n            message: err\n        });\n    }\n    if (err.name === \"UnauthorizedError\") {\n        // jwt authentication error\n        return res.status(401).json({\n            message: \"Invalid Token\"\n        });\n    }\n    // default to 500 server error\n    console.error(err);\n    return res.status(500).json({\n        message: err.message\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9oZWxwZXJzL2FwaS9lcnJvci1oYW5kbGVyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBd0I7QUFFeEIsU0FBU0EsYUFBYUMsR0FBRyxFQUFFQyxHQUFHLEVBQUU7SUFDNUIsSUFBSSxPQUFRRCxRQUFTLFVBQVU7UUFDM0IsMkJBQTJCO1FBQzNCLE1BQU1FLFFBQVFGLElBQUlHLFdBQVcsR0FBR0MsUUFBUSxDQUFDO1FBQ3pDLE1BQU1DLGFBQWFILFFBQVEsTUFBTSxHQUFHO1FBQ3BDLE9BQU9ELElBQUlLLE1BQU0sQ0FBQ0QsWUFBWUUsSUFBSSxDQUFDO1lBQUVDLFNBQVNSO1FBQUk7SUFDdEQsQ0FBQztJQUVELElBQUlBLElBQUlTLElBQUksS0FBSyxxQkFBcUI7UUFDbEMsMkJBQTJCO1FBQzNCLE9BQU9SLElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUztRQUFnQjtJQUMzRCxDQUFDO0lBRUQsOEJBQThCO0lBQzlCRSxRQUFRQyxLQUFLLENBQUNYO0lBQ2QsT0FBT0MsSUFBSUssTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztRQUFFQyxTQUFTUixJQUFJUSxPQUFPO0lBQUM7QUFDdkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWpzLXJlZ2lzdHJhdGlvbi1sb2dpbi1leGFtcGxlLy4vaGVscGVycy9hcGkvZXJyb3ItaGFuZGxlci5qcz83MTE4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGVycm9ySGFuZGxlciB9O1xyXG5cclxuZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVyciwgcmVzKSB7XHJcbiAgICBpZiAodHlwZW9mIChlcnIpID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIC8vIGN1c3RvbSBhcHBsaWNhdGlvbiBlcnJvclxyXG4gICAgICAgIGNvbnN0IGlzNDA0ID0gZXJyLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoJ25vdCBmb3VuZCcpO1xyXG4gICAgICAgIGNvbnN0IHN0YXR1c0NvZGUgPSBpczQwNCA/IDQwNCA6IDQwMDtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyhzdGF0dXNDb2RlKS5qc29uKHsgbWVzc2FnZTogZXJyIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlcnIubmFtZSA9PT0gJ1VuYXV0aG9yaXplZEVycm9yJykge1xyXG4gICAgICAgIC8vIGp3dCBhdXRoZW50aWNhdGlvbiBlcnJvclxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdJbnZhbGlkIFRva2VuJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBkZWZhdWx0IHRvIDUwMCBzZXJ2ZXIgZXJyb3JcclxuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IGVyci5tZXNzYWdlIH0pO1xyXG59Il0sIm5hbWVzIjpbImVycm9ySGFuZGxlciIsImVyciIsInJlcyIsImlzNDA0IiwidG9Mb3dlckNhc2UiLCJlbmRzV2l0aCIsInN0YXR1c0NvZGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm5hbWUiLCJjb25zb2xlIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./helpers/api/error-handler.js\n");

/***/ }),

/***/ "(api)/./helpers/api/index.js":
/*!******************************!*\
  !*** ./helpers/api/index.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _api_handler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api-handler */ \"(api)/./helpers/api/api-handler.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _api_handler__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _api_handler__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./db */ \"(api)/./helpers/api/db.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _db__WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _db__WEBPACK_IMPORTED_MODULE_1__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _error_handler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./error-handler */ \"(api)/./helpers/api/error-handler.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _error_handler__WEBPACK_IMPORTED_MODULE_2__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _error_handler__WEBPACK_IMPORTED_MODULE_2__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _jwt_middleware__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./jwt-middleware */ \"(api)/./helpers/api/jwt-middleware.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _jwt_middleware__WEBPACK_IMPORTED_MODULE_3__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _jwt_middleware__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _users_repo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./users-repo */ \"(api)/./helpers/api/users-repo.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _users_repo__WEBPACK_IMPORTED_MODULE_4__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _users_repo__WEBPACK_IMPORTED_MODULE_4__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _cars_repo__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cars-repo */ \"(api)/./helpers/api/cars-repo.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _cars_repo__WEBPACK_IMPORTED_MODULE_5__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _cars_repo__WEBPACK_IMPORTED_MODULE_5__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _persons_repo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./persons-repo */ \"(api)/./helpers/api/persons-repo.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _persons_repo__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _persons_repo__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _activities_repo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./activities-repo */ \"(api)/./helpers/api/activities-repo.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _activities_repo__WEBPACK_IMPORTED_MODULE_7__) if(__WEBPACK_IMPORT_KEY__ !== \"default\") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _activities_repo__WEBPACK_IMPORTED_MODULE_7__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9oZWxwZXJzL2FwaS9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBOEI7QUFDVDtBQUNXO0FBQ0M7QUFDSjtBQUNEO0FBQ0k7QUFDRSIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtanMtcmVnaXN0cmF0aW9uLWxvZ2luLWV4YW1wbGUvLi9oZWxwZXJzL2FwaS9pbmRleC5qcz8wOTdhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vYXBpLWhhbmRsZXInO1xyXG5leHBvcnQgKiBmcm9tICcuL2RiJztcclxuZXhwb3J0ICogZnJvbSAnLi9lcnJvci1oYW5kbGVyJztcclxuZXhwb3J0ICogZnJvbSAnLi9qd3QtbWlkZGxld2FyZSc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdXNlcnMtcmVwbyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vY2Fycy1yZXBvJztcclxuZXhwb3J0ICogZnJvbSAgJy4vcGVyc29ucy1yZXBvJztcclxuZXhwb3J0ICogZnJvbSAnLi9hY3Rpdml0aWVzLXJlcG8nO1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./helpers/api/index.js\n");

/***/ }),

/***/ "(api)/./helpers/api/jwt-middleware.js":
/*!***************************************!*\
  !*** ./helpers/api/jwt-middleware.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"jwtMiddleware\": () => (/* binding */ jwtMiddleware)\n/* harmony export */ });\n/* harmony import */ var express_jwt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express-jwt */ \"express-jwt\");\n/* harmony import */ var express_jwt__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express_jwt__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! util */ \"util\");\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/config */ \"next/config\");\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_config__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst { serverRuntimeConfig  } = next_config__WEBPACK_IMPORTED_MODULE_2___default()();\n\nfunction jwtMiddleware(req, res) {\n    const middleware = (0,express_jwt__WEBPACK_IMPORTED_MODULE_0__.expressjwt)({\n        secret: serverRuntimeConfig.secret,\n        algorithms: [\n            \"HS256\"\n        ]\n    }).unless({\n        path: [\n            // public routes that don't require authentication\n            \"/api/users/register\",\n            \"/api/users/authenticate\",\n            \"/api/cars/register\",\n            \"/api/cars\",\n            \"/api/persons\",\n            \"/api/activities\",\n            {\n                url: /^\\/api\\/cars\\/*/,\n                methods: [\n                    \"GET\",\n                    \"PUT\",\n                    \"POST\"\n                ]\n            }\n        ]\n    });\n    return util__WEBPACK_IMPORTED_MODULE_1___default().promisify(middleware)(req, res);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9oZWxwZXJzL2FwaS9qd3QtbWlkZGxld2FyZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXlDO0FBQ2pCO0FBQ1k7QUFFcEMsTUFBTSxFQUFFRyxvQkFBbUIsRUFBRSxHQUFHRCxrREFBU0E7QUFFaEI7QUFFekIsU0FBU0UsY0FBY0MsR0FBRyxFQUFFQyxHQUFHLEVBQUU7SUFDN0IsTUFBTUMsYUFBYVAsdURBQVVBLENBQUM7UUFBRVEsUUFBUUwsb0JBQW9CSyxNQUFNO1FBQUVDLFlBQVk7WUFBQztTQUFRO0lBQUMsR0FBR0MsTUFBTSxDQUFDO1FBQ2hHQyxNQUFNO1lBQ0Ysa0RBQWtEO1lBQ2xEO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO2dCQUFFQyxLQUFLO2dCQUFtQkMsU0FBUztvQkFBQztvQkFBTztvQkFBTTtpQkFBTztZQUFDO1NBRTVEO0lBQ0w7SUFFQSxPQUFPWixxREFBYyxDQUFDTSxZQUFZRixLQUFLQztBQUMzQyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHQtanMtcmVnaXN0cmF0aW9uLWxvZ2luLWV4YW1wbGUvLi9oZWxwZXJzL2FwaS9qd3QtbWlkZGxld2FyZS5qcz8xODdmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV4cHJlc3Nqd3QgfSBmcm9tICdleHByZXNzLWp3dCc7XHJcbmltcG9ydCB1dGlsIGZyb20gJ3V0aWwnO1xyXG5pbXBvcnQgZ2V0Q29uZmlnIGZyb20gJ25leHQvY29uZmlnJztcclxuXHJcbmNvbnN0IHsgc2VydmVyUnVudGltZUNvbmZpZyB9ID0gZ2V0Q29uZmlnKCk7XHJcblxyXG5leHBvcnQgeyBqd3RNaWRkbGV3YXJlIH07XHJcblxyXG5mdW5jdGlvbiBqd3RNaWRkbGV3YXJlKHJlcSwgcmVzKSB7XHJcbiAgICBjb25zdCBtaWRkbGV3YXJlID0gZXhwcmVzc2p3dCh7IHNlY3JldDogc2VydmVyUnVudGltZUNvbmZpZy5zZWNyZXQsIGFsZ29yaXRobXM6IFsnSFMyNTYnXSB9KS51bmxlc3Moe1xyXG4gICAgICAgIHBhdGg6IFtcclxuICAgICAgICAgICAgLy8gcHVibGljIHJvdXRlcyB0aGF0IGRvbid0IHJlcXVpcmUgYXV0aGVudGljYXRpb25cclxuICAgICAgICAgICAgJy9hcGkvdXNlcnMvcmVnaXN0ZXInLFxyXG4gICAgICAgICAgICAnL2FwaS91c2Vycy9hdXRoZW50aWNhdGUnLFxyXG4gICAgICAgICAgICAnL2FwaS9jYXJzL3JlZ2lzdGVyJyxcclxuICAgICAgICAgICAgJy9hcGkvY2FycycsXHJcbiAgICAgICAgICAgICcvYXBpL3BlcnNvbnMnLFxyXG4gICAgICAgICAgICAnL2FwaS9hY3Rpdml0aWVzJyxcclxuICAgICAgICAgICAgeyB1cmw6IC9eXFwvYXBpXFwvY2Fyc1xcLyovLCBtZXRob2RzOiBbJ0dFVCcswqAnUFVUJywnUE9TVCddwqB9XHJcblxyXG4gICAgICAgIF1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB1dGlsLnByb21pc2lmeShtaWRkbGV3YXJlKShyZXEsIHJlcyk7XHJcbn0iXSwibmFtZXMiOlsiZXhwcmVzc2p3dCIsInV0aWwiLCJnZXRDb25maWciLCJzZXJ2ZXJSdW50aW1lQ29uZmlnIiwiand0TWlkZGxld2FyZSIsInJlcSIsInJlcyIsIm1pZGRsZXdhcmUiLCJzZWNyZXQiLCJhbGdvcml0aG1zIiwidW5sZXNzIiwicGF0aCIsInVybCIsIm1ldGhvZHMiLCJwcm9taXNpZnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./helpers/api/jwt-middleware.js\n");

/***/ }),

/***/ "(api)/./helpers/api/persons-repo.js":
/*!*************************************!*\
  !*** ./helpers/api/persons-repo.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"personsRepo\": () => (/* binding */ personsRepo)\n/* harmony export */ });\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/config */ \"next/config\");\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_config__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var helpers_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! helpers/api */ \"(api)/./helpers/api/index.js\");\n\n\n\n\nconst Person = helpers_api__WEBPACK_IMPORTED_MODULE_3__.db.Person;\nconst personsRepo = {\n    getAll,\n    getById,\n    create,\n    update,\n    delete: _delete\n};\nasync function getAll() {\n    return await Person.find();\n}\nasync function getById(id) {\n    return await Person.findById(id);\n}\nasync function create(params) {\n    const person = new Person(params);\n    // save car\n    await person.save();\n}\nasync function update(id, params) {\n    const person = await Person.findById(id);\n    // validate\n    if (!person) throw \"User not found\";\n    if (person.idPerson !== params.idPerson && await Person.findOne({\n        idPerson: params.idPerson\n    })) {\n        throw 'Plata \"' + params.idPerson + '\" is already taken';\n    }\n    // copy params properties to car\n    Object.assign(person, params);\n    await person.save();\n}\nasync function _delete(id) {\n    await Person.findByIdAndRemove(id);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9oZWxwZXJzL2FwaS9wZXJzb25zLXJlcG8uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBb0M7QUFDTDtBQUNEO0FBQ0c7QUFHakMsTUFBTUksU0FBU0Qsa0RBQVM7QUFFakIsTUFBTUUsY0FBYztJQUV2QkM7SUFDQUM7SUFDQUM7SUFDQUM7SUFDQUMsUUFBUUM7QUFDWixFQUFFO0FBRUYsZUFBZUwsU0FBUztJQUNwQixPQUFPLE1BQU1GLE9BQU9RLElBQUk7QUFDNUI7QUFFQSxlQUFlTCxRQUFRTSxFQUFFLEVBQUU7SUFDdkIsT0FBTyxNQUFNVCxPQUFPVSxRQUFRLENBQUNEO0FBQ2pDO0FBRUEsZUFBZUwsT0FBT08sTUFBTSxFQUFFO0lBQzFCLE1BQU1DLFNBQVMsSUFBSVosT0FBT1c7SUFFMUIsV0FBVztJQUNYLE1BQU1DLE9BQU9DLElBQUk7QUFDckI7QUFFQSxlQUFlUixPQUFPSSxFQUFFLEVBQUVFLE1BQU0sRUFBRTtJQUM5QixNQUFNQyxTQUFTLE1BQU1aLE9BQU9VLFFBQVEsQ0FBQ0Q7SUFFckMsV0FBVztJQUNYLElBQUksQ0FBQ0csUUFBUSxNQUFNLGlCQUFpQjtJQUNwQyxJQUFJQSxPQUFPRSxRQUFRLEtBQUtILE9BQU9HLFFBQVEsSUFBSSxNQUFNZCxPQUFPZSxPQUFPLENBQUM7UUFBRUQsVUFBVUgsT0FBT0csUUFBUTtJQUFDLElBQUk7UUFDNUYsTUFBTSxZQUFZSCxPQUFPRyxRQUFRLEdBQUcscUJBQXFCO0lBQzdELENBQUM7SUFFRCxnQ0FBZ0M7SUFDaENFLE9BQU9DLE1BQU0sQ0FBQ0wsUUFBUUQ7SUFHdEIsTUFBTUMsT0FBT0MsSUFBSTtBQUNyQjtBQUVBLGVBQWVOLFFBQVFFLEVBQUUsRUFBRTtJQUN2QixNQUFNVCxPQUFPa0IsaUJBQWlCLENBQUNUO0FBQ25DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1qcy1yZWdpc3RyYXRpb24tbG9naW4tZXhhbXBsZS8uL2hlbHBlcnMvYXBpL3BlcnNvbnMtcmVwby5qcz9iZTgyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnZXRDb25maWcgZnJvbSAnbmV4dC9jb25maWcnO1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xyXG5pbXBvcnQgeyBkYiB9IGZyb20gJ2hlbHBlcnMvYXBpJztcclxuXHJcblxyXG5jb25zdCBQZXJzb24gPSBkYi5QZXJzb247XHJcblxyXG5leHBvcnQgY29uc3QgcGVyc29uc1JlcG8gPSB7XHJcblxyXG4gICAgZ2V0QWxsLFxyXG4gICAgZ2V0QnlJZCxcclxuICAgIGNyZWF0ZSxcclxuICAgIHVwZGF0ZSxcclxuICAgIGRlbGV0ZTogX2RlbGV0ZVxyXG59O1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0QWxsKCkge1xyXG4gICAgcmV0dXJuIGF3YWl0IFBlcnNvbi5maW5kKCk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEJ5SWQoaWQpIHtcclxuICAgIHJldHVybiBhd2FpdCBQZXJzb24uZmluZEJ5SWQoaWQpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGUocGFyYW1zKSB7XHJcbiAgICBjb25zdCBwZXJzb24gPSBuZXcgUGVyc29uKHBhcmFtcyk7XHJcblxyXG4gICAgLy8gc2F2ZSBjYXJcclxuICAgIGF3YWl0IHBlcnNvbi5zYXZlKCk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZShpZCwgcGFyYW1zKSB7XHJcbiAgICBjb25zdCBwZXJzb24gPSBhd2FpdCBQZXJzb24uZmluZEJ5SWQoaWQpO1xyXG5cclxuICAgIC8vIHZhbGlkYXRlXHJcbiAgICBpZiAoIXBlcnNvbikgdGhyb3cgJ1VzZXIgbm90IGZvdW5kJztcclxuICAgIGlmIChwZXJzb24uaWRQZXJzb24gIT09IHBhcmFtcy5pZFBlcnNvbiAmJiBhd2FpdCBQZXJzb24uZmluZE9uZSh7IGlkUGVyc29uOiBwYXJhbXMuaWRQZXJzb24gfSkpIHtcclxuICAgICAgICB0aHJvdyAnUGxhdGEgXCInICsgcGFyYW1zLmlkUGVyc29uICsgJ1wiIGlzIGFscmVhZHkgdGFrZW4nO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvcHkgcGFyYW1zIHByb3BlcnRpZXMgdG8gY2FyXHJcbiAgICBPYmplY3QuYXNzaWduKHBlcnNvbiwgcGFyYW1zKTtcclxuXHJcbiAgICBcclxuICAgIGF3YWl0IHBlcnNvbi5zYXZlKCk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIF9kZWxldGUoaWQpIHtcclxuICAgIGF3YWl0IFBlcnNvbi5maW5kQnlJZEFuZFJlbW92ZShpZCk7XHJcbn0iXSwibmFtZXMiOlsiZ2V0Q29uZmlnIiwiand0IiwiYmNyeXB0IiwiZGIiLCJQZXJzb24iLCJwZXJzb25zUmVwbyIsImdldEFsbCIsImdldEJ5SWQiLCJjcmVhdGUiLCJ1cGRhdGUiLCJkZWxldGUiLCJfZGVsZXRlIiwiZmluZCIsImlkIiwiZmluZEJ5SWQiLCJwYXJhbXMiLCJwZXJzb24iLCJzYXZlIiwiaWRQZXJzb24iLCJmaW5kT25lIiwiT2JqZWN0IiwiYXNzaWduIiwiZmluZEJ5SWRBbmRSZW1vdmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./helpers/api/persons-repo.js\n");

/***/ }),

/***/ "(api)/./helpers/api/users-repo.js":
/*!***********************************!*\
  !*** ./helpers/api/users-repo.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"usersRepo\": () => (/* binding */ usersRepo)\n/* harmony export */ });\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/config */ \"next/config\");\n/* harmony import */ var next_config__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_config__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var helpers_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! helpers/api */ \"(api)/./helpers/api/index.js\");\n\n\n\n\nconst { serverRuntimeConfig  } = next_config__WEBPACK_IMPORTED_MODULE_0___default()();\nconst User = helpers_api__WEBPACK_IMPORTED_MODULE_3__.db.User;\nconst usersRepo = {\n    authenticate,\n    getAll,\n    getById,\n    create,\n    update,\n    delete: _delete\n};\nasync function authenticate({ username , password  }) {\n    const user = await User.findOne({\n        username\n    });\n    if (!(user && bcryptjs__WEBPACK_IMPORTED_MODULE_2___default().compareSync(password, user.hash))) {\n        throw \"Username or password is incorrect\";\n    }\n    // create a jwt token that is valid for 7 days\n    const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().sign({\n        sub: user.id\n    }, serverRuntimeConfig.secret, {\n        expiresIn: \"7d\"\n    });\n    return {\n        ...user.toJSON(),\n        token\n    };\n}\nasync function getAll() {\n    return await User.find();\n}\nasync function getById(id) {\n    return await User.findById(id);\n}\nasync function create(params) {\n    // validate\n    if (await User.findOne({\n        username: params.username\n    })) {\n        throw 'Username \"' + params.username + '\" is already taken';\n    }\n    const user = new User(params);\n    // hash password\n    if (params.password) {\n        user.hash = bcryptjs__WEBPACK_IMPORTED_MODULE_2___default().hashSync(params.password, 10);\n    }\n    // save user\n    await user.save();\n}\nasync function update(id, params) {\n    const user = await User.findById(id);\n    // validate\n    if (!user) throw \"User not found\";\n    if (user.username !== params.username && await User.findOne({\n        username: params.username\n    })) {\n        throw 'Username \"' + params.username + '\" is already taken';\n    }\n    // hash password if it was entered\n    if (params.password) {\n        params.hash = bcryptjs__WEBPACK_IMPORTED_MODULE_2___default().hashSync(params.password, 10);\n    }\n    // copy params properties to user\n    Object.assign(user, params);\n    await user.save();\n}\nasync function _delete(id) {\n    await User.findByIdAndRemove(id);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9oZWxwZXJzL2FwaS91c2Vycy1yZXBvLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQW9DO0FBQ0w7QUFDRDtBQUNHO0FBRWpDLE1BQU0sRUFBRUksb0JBQW1CLEVBQUUsR0FBR0osa0RBQVNBO0FBQ3pDLE1BQU1LLE9BQU9GLGdEQUFPO0FBRWIsTUFBTUcsWUFBWTtJQUNyQkM7SUFDQUM7SUFDQUM7SUFDQUM7SUFDQUM7SUFDQUMsUUFBUUM7QUFDWixFQUFFO0FBRUYsZUFBZU4sYUFBYSxFQUFFTyxTQUFRLEVBQUVDLFNBQVEsRUFBRSxFQUFFO0lBQ2hELE1BQU1DLE9BQU8sTUFBTVgsS0FBS1ksT0FBTyxDQUFDO1FBQUVIO0lBQVM7SUFFM0MsSUFBSSxDQUFFRSxDQUFBQSxRQUFRZCwyREFBa0IsQ0FBQ2EsVUFBVUMsS0FBS0csSUFBSSxJQUFJO1FBQ3BELE1BQU0sb0NBQW9DO0lBQzlDLENBQUM7SUFFRCw4Q0FBOEM7SUFDOUMsTUFBTUMsUUFBUW5CLHdEQUFRLENBQUM7UUFBRXFCLEtBQUtOLEtBQUtPLEVBQUU7SUFBQyxHQUFHbkIsb0JBQW9Cb0IsTUFBTSxFQUFFO1FBQUVDLFdBQVc7SUFBSztJQUV2RixPQUFPO1FBQ0gsR0FBR1QsS0FBS1UsTUFBTSxFQUFFO1FBQ2hCTjtJQUNKO0FBQ0o7QUFFQSxlQUFlWixTQUFTO0lBQ3BCLE9BQU8sTUFBTUgsS0FBS3NCLElBQUk7QUFDMUI7QUFFQSxlQUFlbEIsUUFBUWMsRUFBRSxFQUFFO0lBQ3ZCLE9BQU8sTUFBTWxCLEtBQUt1QixRQUFRLENBQUNMO0FBQy9CO0FBRUEsZUFBZWIsT0FBT21CLE1BQU0sRUFBRTtJQUMxQixXQUFXO0lBQ1gsSUFBSSxNQUFNeEIsS0FBS1ksT0FBTyxDQUFDO1FBQUVILFVBQVVlLE9BQU9mLFFBQVE7SUFBQyxJQUFJO1FBQ25ELE1BQU0sZUFBZWUsT0FBT2YsUUFBUSxHQUFHLHFCQUFxQjtJQUNoRSxDQUFDO0lBRUQsTUFBTUUsT0FBTyxJQUFJWCxLQUFLd0I7SUFFdEIsZ0JBQWdCO0lBQ2hCLElBQUlBLE9BQU9kLFFBQVEsRUFBRTtRQUNqQkMsS0FBS0csSUFBSSxHQUFHakIsd0RBQWUsQ0FBQzJCLE9BQU9kLFFBQVEsRUFBRTtJQUNqRCxDQUFDO0lBRUQsWUFBWTtJQUNaLE1BQU1DLEtBQUtlLElBQUk7QUFDbkI7QUFFQSxlQUFlcEIsT0FBT1ksRUFBRSxFQUFFTSxNQUFNLEVBQUU7SUFDOUIsTUFBTWIsT0FBTyxNQUFNWCxLQUFLdUIsUUFBUSxDQUFDTDtJQUVqQyxXQUFXO0lBQ1gsSUFBSSxDQUFDUCxNQUFNLE1BQU0saUJBQWlCO0lBQ2xDLElBQUlBLEtBQUtGLFFBQVEsS0FBS2UsT0FBT2YsUUFBUSxJQUFJLE1BQU1ULEtBQUtZLE9BQU8sQ0FBQztRQUFFSCxVQUFVZSxPQUFPZixRQUFRO0lBQUMsSUFBSTtRQUN4RixNQUFNLGVBQWVlLE9BQU9mLFFBQVEsR0FBRyxxQkFBcUI7SUFDaEUsQ0FBQztJQUVELGtDQUFrQztJQUNsQyxJQUFJZSxPQUFPZCxRQUFRLEVBQUU7UUFDakJjLE9BQU9WLElBQUksR0FBR2pCLHdEQUFlLENBQUMyQixPQUFPZCxRQUFRLEVBQUU7SUFDbkQsQ0FBQztJQUVELGlDQUFpQztJQUNqQ2lCLE9BQU9DLE1BQU0sQ0FBQ2pCLE1BQU1hO0lBRXBCLE1BQU1iLEtBQUtlLElBQUk7QUFDbkI7QUFFQSxlQUFlbEIsUUFBUVUsRUFBRSxFQUFFO0lBQ3ZCLE1BQU1sQixLQUFLNkIsaUJBQWlCLENBQUNYO0FBQ2pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dC1qcy1yZWdpc3RyYXRpb24tbG9naW4tZXhhbXBsZS8uL2hlbHBlcnMvYXBpL3VzZXJzLXJlcG8uanM/MTg3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZ2V0Q29uZmlnIGZyb20gJ25leHQvY29uZmlnJztcclxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJztcclxuaW1wb3J0IHsgZGIgfSBmcm9tICdoZWxwZXJzL2FwaSc7XHJcblxyXG5jb25zdCB7IHNlcnZlclJ1bnRpbWVDb25maWcgfSA9IGdldENvbmZpZygpO1xyXG5jb25zdCBVc2VyID0gZGIuVXNlcjtcclxuXHJcbmV4cG9ydCBjb25zdCB1c2Vyc1JlcG8gPSB7XHJcbiAgICBhdXRoZW50aWNhdGUsXHJcbiAgICBnZXRBbGwsXHJcbiAgICBnZXRCeUlkLFxyXG4gICAgY3JlYXRlLFxyXG4gICAgdXBkYXRlLFxyXG4gICAgZGVsZXRlOiBfZGVsZXRlXHJcbn07XHJcblxyXG5hc3luYyBmdW5jdGlvbiBhdXRoZW50aWNhdGUoeyB1c2VybmFtZSwgcGFzc3dvcmQgfSkge1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lIH0pO1xyXG5cclxuICAgIGlmICghKHVzZXIgJiYgYmNyeXB0LmNvbXBhcmVTeW5jKHBhc3N3b3JkLCB1c2VyLmhhc2gpKSkge1xyXG4gICAgICAgIHRocm93ICdVc2VybmFtZSBvciBwYXNzd29yZCBpcyBpbmNvcnJlY3QnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNyZWF0ZSBhIGp3dCB0b2tlbiB0aGF0IGlzIHZhbGlkIGZvciA3IGRheXNcclxuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oeyBzdWI6IHVzZXIuaWQgfSwgc2VydmVyUnVudGltZUNvbmZpZy5zZWNyZXQsIHsgZXhwaXJlc0luOiAnN2QnIH0pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4udXNlci50b0pTT04oKSxcclxuICAgICAgICB0b2tlblxyXG4gICAgfTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0QWxsKCkge1xyXG4gICAgcmV0dXJuIGF3YWl0IFVzZXIuZmluZCgpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXRCeUlkKGlkKSB7XHJcbiAgICByZXR1cm4gYXdhaXQgVXNlci5maW5kQnlJZChpZCk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZShwYXJhbXMpIHtcclxuICAgIC8vIHZhbGlkYXRlXHJcbiAgICBpZiAoYXdhaXQgVXNlci5maW5kT25lKHsgdXNlcm5hbWU6IHBhcmFtcy51c2VybmFtZSB9KSkge1xyXG4gICAgICAgIHRocm93ICdVc2VybmFtZSBcIicgKyBwYXJhbXMudXNlcm5hbWUgKyAnXCIgaXMgYWxyZWFkeSB0YWtlbic7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHBhcmFtcyk7XHJcblxyXG4gICAgLy8gaGFzaCBwYXNzd29yZFxyXG4gICAgaWYgKHBhcmFtcy5wYXNzd29yZCkge1xyXG4gICAgICAgIHVzZXIuaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhwYXJhbXMucGFzc3dvcmQsIDEwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBzYXZlIHVzZXJcclxuICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGUoaWQsIHBhcmFtcykge1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQoaWQpO1xyXG5cclxuICAgIC8vIHZhbGlkYXRlXHJcbiAgICBpZiAoIXVzZXIpIHRocm93ICdVc2VyIG5vdCBmb3VuZCc7XHJcbiAgICBpZiAodXNlci51c2VybmFtZSAhPT0gcGFyYW1zLnVzZXJuYW1lICYmIGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lOiBwYXJhbXMudXNlcm5hbWUgfSkpIHtcclxuICAgICAgICB0aHJvdyAnVXNlcm5hbWUgXCInICsgcGFyYW1zLnVzZXJuYW1lICsgJ1wiIGlzIGFscmVhZHkgdGFrZW4nO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGhhc2ggcGFzc3dvcmQgaWYgaXQgd2FzIGVudGVyZWRcclxuICAgIGlmIChwYXJhbXMucGFzc3dvcmQpIHtcclxuICAgICAgICBwYXJhbXMuaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhwYXJhbXMucGFzc3dvcmQsIDEwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjb3B5IHBhcmFtcyBwcm9wZXJ0aWVzIHRvIHVzZXJcclxuICAgIE9iamVjdC5hc3NpZ24odXNlciwgcGFyYW1zKTtcclxuXHJcbiAgICBhd2FpdCB1c2VyLnNhdmUoKTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gX2RlbGV0ZShpZCkge1xyXG4gICAgYXdhaXQgVXNlci5maW5kQnlJZEFuZFJlbW92ZShpZCk7XHJcbn1cclxuIl0sIm5hbWVzIjpbImdldENvbmZpZyIsImp3dCIsImJjcnlwdCIsImRiIiwic2VydmVyUnVudGltZUNvbmZpZyIsIlVzZXIiLCJ1c2Vyc1JlcG8iLCJhdXRoZW50aWNhdGUiLCJnZXRBbGwiLCJnZXRCeUlkIiwiY3JlYXRlIiwidXBkYXRlIiwiZGVsZXRlIiwiX2RlbGV0ZSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJ1c2VyIiwiZmluZE9uZSIsImNvbXBhcmVTeW5jIiwiaGFzaCIsInRva2VuIiwic2lnbiIsInN1YiIsImlkIiwic2VjcmV0IiwiZXhwaXJlc0luIiwidG9KU09OIiwiZmluZCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaGFzaFN5bmMiLCJzYXZlIiwiT2JqZWN0IiwiYXNzaWduIiwiZmluZEJ5SWRBbmRSZW1vdmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./helpers/api/users-repo.js\n");

/***/ }),

/***/ "(api)/./pages/api/activities/index.js":
/*!***************************************!*\
  !*** ./pages/api/activities/index.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var helpers_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! helpers/api */ \"(api)/./helpers/api/index.js\");\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,helpers_api__WEBPACK_IMPORTED_MODULE_0__.apiHandler)({\n    get: getAll,\n    post: register\n}));\nasync function getAll(req, res) {\n    const activities = await helpers_api__WEBPACK_IMPORTED_MODULE_0__.activityRepo.getAll();\n    return res.status(200).json(activities);\n}\nasync function register(req, res) {\n    await helpers_api__WEBPACK_IMPORTED_MODULE_0__.activityRepo.create(req.body);\n    return res.status(200).json({});\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYWN0aXZpdGllcy9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3RDtBQUV4RCxpRUFBZUEsdURBQVVBLENBQUM7SUFDdEJFLEtBQUtDO0lBQ0xDLE1BQU1DO0FBQ1YsRUFBRSxFQUFDO0FBRUgsZUFBZUYsT0FBT0csR0FBRyxFQUFFQyxHQUFHLEVBQUU7SUFDNUIsTUFBTUMsYUFBYSxNQUFNUCw0REFBbUI7SUFDNUMsT0FBT00sSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQ0Y7QUFDaEM7QUFDQSxlQUFlSCxTQUFTQyxHQUFHLEVBQUVDLEdBQUcsRUFBRTtJQUM5QixNQUFNTiw0REFBbUIsQ0FBQ0ssSUFBSU0sSUFBSTtJQUNsQyxPQUFPTCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDLENBQUM7QUFDakMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWpzLXJlZ2lzdHJhdGlvbi1sb2dpbi1leGFtcGxlLy4vcGFnZXMvYXBpL2FjdGl2aXRpZXMvaW5kZXguanM/MTQ3MyJdLCJzb3VyY2VzQ29udGVudCI6WyIgaW1wb3J0IHsgYXBpSGFuZGxlciwgYWN0aXZpdHlSZXBvIH0gZnJvbSAnaGVscGVycy9hcGknO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXBpSGFuZGxlcih7XHJcbiAgICBnZXQ6IGdldEFsbCxcclxuICAgIHBvc3Q6IHJlZ2lzdGVyXHJcbn0pO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0QWxsKHJlcSwgcmVzKSB7XHJcbiAgICBjb25zdCBhY3Rpdml0aWVzID0gYXdhaXQgYWN0aXZpdHlSZXBvLmdldEFsbCgpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKGFjdGl2aXRpZXMpO1xyXG59XHJcbmFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyKHJlcSwgcmVzKSB7XHJcbiAgICBhd2FpdCBhY3Rpdml0eVJlcG8uY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7fSk7XHJcbn1cclxuIl0sIm5hbWVzIjpbImFwaUhhbmRsZXIiLCJhY3Rpdml0eVJlcG8iLCJnZXQiLCJnZXRBbGwiLCJwb3N0IiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJhY3Rpdml0aWVzIiwic3RhdHVzIiwianNvbiIsImNyZWF0ZSIsImJvZHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/activities/index.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/activities/index.js"));
module.exports = __webpack_exports__;

})();